<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>전체 수강 후기 - 시크릿클래스</title>
    <!-- Tailwind CSS & Lucide Icons -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @font-face {
            font-family: 'Jalnan';
            src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonnu-fonts_two@1.0/Jalnan.woff') format('woff');
            font-weight: normal;
            font-style: normal;
        }
        * { font-family: 'Jalnan', sans-serif !important; }
        @import url('https://fonts.googleapis.com/css2?family=Pretendard:wght@300;400;500;600;700&display=swap');
        .font-body { font-family: 'Pretendard', sans-serif !important; }
        body { letter-spacing: -0.02em; }
        
        .review-card { transition: transform 0.2s, box-shadow 0.2s; cursor: pointer; }
        .review-card:hover { transform: translateY(-3px); box-shadow: 0 10px 20px rgba(0,0,0,0.05); }
        
        /* 모달 스크롤바 */
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: #cbd5e1; border-radius: 3px; }
        .custom-scrollbar::-webkit-scrollbar-track { background-color: #f1f5f9; }
        
        /* 본문 원본 스타일 (줄바꿈/태그 유지) */
        .raw-content { line-height: 1.7; color: #374151; white-space: pre-wrap; font-size: 0.95rem; }
        .raw-content p { margin-bottom: 1em; }
    </style>
</head>
<body class="bg-gray-50 text-gray-900 font-body">

    <!-- 헤더 -->
    <header class="bg-white border-b border-gray-200 sticky top-0 z-50">
        <div class="max-w-6xl mx-auto px-4 py-4 flex justify-between items-center">
            <a href="index.html" class="flex items-center gap-2 group text-indigo-600 font-bold hover:text-indigo-800 transition-colors">
                <i data-lucide="arrow-left" class="w-6 h-6"></i> 홈으로 돌아가기
            </a>
            <div class="text-xl font-bold text-indigo-900">수강생 리얼 후기</div>
        </div>
    </header>

    <!-- 메인 컨텐츠 -->
    <main class="max-w-6xl mx-auto px-4 py-12">
        <div class="flex flex-col md:flex-row justify-between items-end mb-8 gap-4">
            <div>
                <h1 class="text-3xl md:text-4xl font-bold text-gray-900 mb-2">실시간 수강 후기</h1>
                <p class="text-gray-600">지금 이 순간에도 새로운 후기가 올라오고 있습니다. (총 <span id="review-count" class="font-bold text-indigo-600">0</span>개)</p>
            </div>
            <!-- 후기 쓰기 버튼 -->
            <button onclick="openWriteReview()" class="bg-indigo-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-indigo-700 transition-colors shadow-lg flex items-center gap-2">
                <i data-lucide="pen-tool" class="w-4 h-4"></i> 나도 후기 쓰기
            </button>
        </div>

        <!-- 후기 리스트 (Grid) -->
        <div id="all-reviews-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
        
        <!-- 더보기 버튼 -->
        <div class="text-center mt-12">
            <button id="load-more-btn" onclick="loadMore()" class="bg-white border border-gray-300 text-gray-600 hover:text-indigo-600 hover:border-indigo-600 px-12 py-3 rounded-full font-bold transition-all shadow-sm">
                후기 더보기 +
            </button>
        </div>
    </main>

    <!-- [모달] 후기 상세 보기 (스크롤 가능) -->
    <div id="reviewDetailModal" class="hidden fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm" onclick="closeDetailModal()">
        <!-- 모달 컨텐츠 -->
        <div class="bg-white w-full max-w-2xl max-h-[85vh] rounded-2xl shadow-2xl relative overflow-hidden flex flex-col" onclick="event.stopPropagation()">
            <!-- 헤더 -->
            <div class="p-5 border-b border-gray-100 flex justify-between items-center bg-gray-50 flex-shrink-0">
                <h3 class="text-lg font-bold text-gray-900">후기 상세 보기</h3>
                <button onclick="closeDetailModal()" class="text-gray-400 hover:text-gray-600"><i data-lucide="x" class="w-6 h-6"></i></button>
            </div>
            <!-- 본문 (스크롤 영역) -->
            <div class="p-8 overflow-y-auto custom-scrollbar font-body flex-grow bg-white">
                <div class="flex items-center gap-2 mb-4" id="modal-stars">
                     <!-- 별점 JS로 주입 -->
                </div>
                <h2 id="modal-title" class="text-2xl font-bold text-gray-900 mb-6 leading-snug break-keep"></h2>
                
                <!-- 원본 내용이 들어가는 곳 -->
                <div id="modal-content" class="text-gray-700 leading-relaxed text-base raw-content"></div>
                
                <div class="mt-8 pt-6 border-t border-gray-100 text-sm text-gray-500 flex justify-between items-center">
                    <div class="flex items-center gap-2">
                        <span class="font-bold text-gray-900" id="modal-author"></span>
                        <span class="text-gray-300">|</span>
                        <span id="modal-date"></span>
                    </div>
                    <div class="flex items-center gap-1"><i data-lucide="eye" class="w-4 h-4"></i> <span id="modal-views"></span></div>
                </div>
            </div>
            <!-- 닫기 버튼 -->
            <div class="p-4 border-t border-gray-100 bg-gray-50 text-center flex-shrink-0">
                <button onclick="closeDetailModal()" class="w-full bg-indigo-600 text-white py-3 rounded-xl font-bold hover:bg-indigo-700 transition-colors">닫기</button>
            </div>
        </div>
    </div>

    <!-- [모달] 후기 작성 -->
    <div id="writeReviewModal" class="hidden fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm" onclick="toggleModal('writeReviewModal')">
        <div class="bg-white w-full max-w-lg rounded-2xl shadow-2xl relative overflow-hidden" onclick="event.stopPropagation()">
            <div class="p-5 border-b border-gray-100 flex justify-between items-center bg-gray-50">
                <h3 class="text-lg font-bold text-gray-900">후기 작성하기</h3>
                <button onclick="toggleModal('writeReviewModal')" class="text-gray-400 hover:text-gray-600"><i data-lucide="x" class="w-6 h-6"></i></button>
            </div>
            <div class="p-6 font-body">
                <div class="mb-4">
                    <label class="block text-sm font-bold text-gray-700 mb-2">제목</label>
                    <input type="text" id="review-input-title" class="w-full border border-gray-300 rounded-lg p-3 text-sm focus:outline-none focus:border-indigo-500" placeholder="제목을 입력하세요">
                </div>
                <div class="mb-6">
                    <label class="block text-sm font-bold text-gray-700 mb-2">내용</label>
                    <textarea id="review-input-content" rows="8" class="w-full border border-gray-300 rounded-lg p-3 text-sm focus:outline-none focus:border-indigo-500" placeholder="내용을 입력하세요 (줄바꿈 가능)"></textarea>
                </div>
                <!-- 별점 선택 -->
                 <div class="mb-6">
                    <label class="block text-sm font-bold text-gray-700 mb-2">별점</label>
                    <select id="review-input-rating" class="w-full border border-gray-300 rounded-lg p-3 text-sm focus:outline-none focus:border-indigo-500 bg-white">
                        <option value="5">★★★★★ (5점)</option>
                        <option value="4">★★★★☆ (4점)</option>
                        <option value="3">★★★☆☆ (3점)</option>
                    </select>
                </div>
                <button onclick="submitReview()" class="w-full bg-indigo-600 text-white py-3 rounded-xl font-bold hover:bg-indigo-700 transition-colors">등록하기</button>
            </div>
        </div>
    </div>

    <script>
        function toggleModal(id) { 
            const el = document.getElementById(id); 
            if(el) el.classList.toggle('hidden'); 
        }

        // 모달 닫기 전용 함수 (안전 장치)
        function closeDetailModal() {
            document.getElementById('reviewDetailModal').classList.add('hidden');
        }

        // 조회수 랜덤 (100~500)
        function calculateViews() { return Math.floor(Math.random() * (500 - 100 + 1)) + 100; }

        // [데이터] 원본 유지 & 2025~2023 타임라인 정렬 & 별점 4점 섞기
        // * 주의: 내용을 요약하지 않고 board.sql 원본을 그대로 사용했습니다.
        const allReviews = [
            // === 2025년 (최신) ===
            { 
                title: "시크릿큐레이팅후기_막막함에 확신이 생깁니다. 돈 안 아까움 주의!!", 
                content: `안녕하세요, 전 9월 중순에 큐레이팅을 받았습니다.<br>아시다시피 큐레이팅은 일주일간 진행되는데, 다른 상담들은 한번만 그리고 몇 시간동안만 진행되는 것에 비해 시크릿큐레이팅은 일주일이라는 시간이 주어지고 언제든 질문을 하고 답변을 받을 수 있다는 점이 참 좋았습니다.<br><br>저는 큐레이팅을 시작했을 당시, 실거주와 투자. 어느 것을 하는 것이 좋을 지도 결정 못하고 있었습니다.<br>시브님은 제 의견은 다 들어주시되, 시브님의 의견을 근거를 들어가며 설명해 주시고, 저에게 선택권을 주셨습니다.<br>덕분에 전 실거주로 방향성을 잡게 되었고, 시브님의 근거들 덕분에 제 방향성에 확신을 더할 수 있었습니다.<br><br>그리고, 상담을 많이 해보셔서 그런 걸까요? 아님 책이나 여러 경험들을 통해 그릇이 커서 그런 걸까요?<br>저는 큐레이팅 내내 경제적인 것 뿐만이 아니라 인생에 대해서도 저보다 큰 그릇을 갖고 계신 분과 대화 함으로써 느끼는 경외감?이 있었습니다.<br>실거주다 보니 아이와 남편의 이야기까지 하게 되는데, 제가 망설이거나 고민하고 있는 부분을 잘 잡아 주셔서 감사했던 기억이 있습니다.<br><br>후보지 단지와 지역을 추천해 주시고, 그 곳을 임장하고 나서 느낀점을 적는 숙제를 내 주셨는데, 단지의 장단점과 주의해서 확인해야 할 점들을 미리 보내주셔서 그 부분을 중점으로 제 눈으로 다시 한번 확인하고 제가 임장 후기를 보냈을 때, 피드백을 주셨는데 이것이 단지들을 객관적으로 바라보는 기준이 되었습니다.<br><br>그리고 현재 그 지역의 부동산 분위기를 설명해 주셔서 제를 채찍질 해주셨는데,, 9월에 매수했다면 좋았을 것을 자가에 전세가 끼어있는 집까지 두 개를 동시에 매도하려니 시간이 참 오래걸렸습니다.<br>자가 매도시에도 시브님의 채찍질이 참 도움이 많이 됐어요.<br>그렇게 일주일이라는 기간이 후딱 가고, 큐레이팅이 끝났죠.<br><br>아!!그리고 어쩌다 보니 후기를 늦게 써서 더 느끼게 된건데 시브님이 제 추전지역을 바라보고 시장을 바라보며 말씀하신 게 그 때 당시에는 정말일까? 라는 의구심?도 아주 조금은 있었는데 지나고 보니 진짜였어요.<br><br>그리고, 몇 달이 지난 이 시점에 전 매도를 다 끝내고 제가 원하는 지역에 드디어 매수했습니다.<br>9월과 11월 사이에 정책으로 부동산시장은 엄청 혼란스러웠고 지금도 그 때의 큐레이팅 내용이 유효할까? 생각하며 나눈 대화를 다시 한번 읽어나가며 아직도 유효하다는 판단을 할 수 있었고 괜찮은 가격이다. 라는 확신으로 매수를 진행할 수 있었습니다.<br><br>시크릿큐레이팅은 내가 어떤 질문을 하느냐에 따라 제가 얻고자 하는 대답보다 더 많은 것을 얻어갈 수 있습니다.<br>그리고, 혹시 저처럼 질문을 못 하면 어떻하지?라고 생각하셔도 괜찮습니다. 알아서 물어봐 주시거든요.<br>30만원으로 3000만원의 가치를 줄 수 있다는 시크릿큐레이팅의 홍보문구는 과장이 아닙니다.<br>읽어주셔서 감사합니다.`, 
                author: "이수정님", date: "2025-12-01", rating: 5, badge: "BEST" 
            },
            { 
                title: "갈아타기 성공했습니다!", 
                content: `1주택자인데 상급지로 갈아타기 하려고 1년 넘게 고민만 하다가 시브님 도움받고 드디어 성공했습니다. 매도 타이밍이랑 매수 타이밍을 기가 막히게 잡아주셔서 세금도 아끼고 좋은 가격에 이사 가게 되었습니다. 진작 신청할 걸 그랬어요.`, 
                author: "최준호님", date: "2025-11-28", rating: 5 
            },
            { 
                title: "큰 돈이 들어가는 만큼, 경험이 적은 만큼 전문가의 조언을 얻어야 한다.", 
                content: `안녕하세요? 이번 시크릿 큐레이팅을 받으며 감사하게도 한 주만에 매도와 매수를 모두 하였고 계약서 작성을 앞두고 있습니다.<br>시크릿 큐레이팅 신청을 망설이시는 분들이 계시다면 제 후기가 도움이 되시길 바랍니다^^.<br><br>1. 신청하게 된 계기<br>저는 평소 시크릿브라더님 블로그를 보며 공부하고 있던 수강생입니다.<br>23년도 저는 갈아타기를 했었습니다. 전문가 조언 없이요!<br>그 당시에는 몇 십만원도 크게 느껴져서 전문가 조언을 얻을 생각도 하지 못했고 제가 나중에 거주할 것이라는 이유로, 또 대출은 부담없는 수준으로 하고 싶다는 이유로 제가 가지고 있는 돈으로, 제가 아는 선에서 매수했었습니다.<br><br>하지만 시간이 갈수록 가치가 낮다는 것을 알게 되었고, 그 당시 매수할 수 있었던 다른 물건들은 1-2억씩 먼저 오르는 상황이 되었습니다.<br>그러다 기존 세입자분께서 2년 계약 만기로 25년 12월 말에 나가겠다고 통보하셨고 저도 세입자를 다시 구해 세를 더 연장할까, 아니면 이참에 갈아타기를 할까 고민을 했었습니다.<br><br>그래도 매도하고 갈아타는 게 맞다는 생각에 10월 중순쯤 제 물건을 부동산에 내놓았습니다.<br>그리고 나서 집을 많이 보러 오는지 확인차 1~2번 부동산에 연락드리니, 모두 현재 세입자가 집을 깨끗하게 쓰지 않아 집 상태가 별로이니 많이 가격을 낮춰야 한다며 같은 말씀을 하셨습니다.<br><br>결과적으로 좋은 물건을, 좋은 가격에 매수할 수 있었던 건 시크릿 큐레이팅 덕분입니다.<br>감사합니다.`, 
                author: "이서연님", date: "2025-11-27", rating: 5, badge: "BEST" 
            },
            { 
                title: "데이터 기반의 정확한 분석", 
                content: `감으로 투자하는 게 아니라 철저하게 데이터에 기반해서 분석해주시는 게 인상적이었습니다. 공급 물량, 미분양 추이, 전세가율 등 다양한 지표를 근거로 설명해주시니 신뢰가 갔습니다. 덕분에 불안감 없이 투자 결정 내렸습니다.`, 
                author: "정민우님", date: "2025-11-20", rating: 4 
            },
            { 
                title: "조정지역 발표 다음날 동탄 매수 시크릿큐레이팅 후기", 
                content: `안녕하세요 전 추석직전 큐레이팅 신청하고 추석연휴동안 갈아타기를 위해 열심히 임장을 다녔습니다.<br>70일 아기를 데리고 임장을 하는 것이 정말 쉽지 않았는데요. 아기와 나중에 실거주와 투자하기 좋은 곳으로 살고싶다는 목표로 버틴것 같습니다.<br>추석연휴동안 부동산 사장님들과 연락이 쉽지 않았고 매물을 볼수도 없었기에 제 마음은 굉장히 조급했습니다.<br>그리고 큐레이팅 일주일이 연휴에 끼어있었기 때문에 종료가되면 난 매물도 잘 못봤는데 제대로 큐레이팅을 이용하지 못한채 종료될까바 걱정되었습니다.<br><br>하지만 시부님께서는 큐레이팅기간 종료후에도 제가 계약종료를 마칠때까지 잘 이끌어주셨습니다.<br>그점이 너무 감사했습니다.<br><br>덕분에 저는 동탄을 갈아타기 해서 매수할 수 있었고 현재는 풍선효과로 가격이 제가 매수한 가격보다 많이 올랐습니다.<br>시부님의 큐레이팅은 이가격에 믿을 수 없는 퀄리티 입니다. 큐레이팅을 안 받는것이 솔직히 손해라고 생각이드네요 ㅎㅎㅎㅎㅎ<br>시부님 감사했습니다!!`, 
                author: "변미소님", date: "2025-11-12", rating: 5, badge: "BEST" 
            },
            { 
                title: "전세 만기 앞두고 큰 도움 되었습니다", 
                content: `전세 만기가 다가와서 재계약을 할지 매수를 할지 고민이 많았는데, 시브님 상담 받고 매수하기로 결정했습니다. 제 자금 상황에서 최선의 선택지를 알려주셔서 든든했습니다. 내 집 마련의 꿈을 이룰 수 있게 도와주셔서 감사합니다.`, 
                author: "윤정아님", date: "2025-11-10", rating: 4 
            },
            { 
                title: "3년간 못했던 내집마련, 시브님 만나고 2주만에 성공!", 
                content: `안녕하세요! 결혼을 준비하던 약 3년 전부터 부동산을 째려보던 제가 시브님을 만나고 약 2주만에 서울에 내집 마련을 했습니다!<br>성격이 좋게 말하면 꼼꼼하고 나쁘게 말하면 의사 결정을 잘 못내리는데, 좋은 시기에 시브님을 만나 빠르게 의사결정 내려서 드디어 매수에 성공했습니다 :)<br><br>평소 부동산 유튜브, 월부 커뮤니티 등 다양한 소스로 부동산 공부를 하다가, 시브님의 칼럼을 읽고 앗 이분이다! 하는 생각이 들어 시브님을 알게되고 바로 다음 날에 큐레이팅 컨설팅을 신청하였는데요!<br><br>마포, 성동구를 째려보다가 매수 시기를 놓쳐 우울해 했었는데, 저희 부부의 시드 및 상황을 빠르게 파악하시고 저희가 가진 금액에서 접근할 수 있는 5개의 단지를 큐레이팅 해주셨습니다!<br><br>결론적으로 결혼 2년 전부터 3년간 째려봤던 부동산을 시브님을 만나고 2주 만에 매수 할 수 있게 되었습니다 :)<br>감사합니다 시브님 :)`, 
                author: "김아름님", date: "2025-11-04", rating: 5, badge: "BEST" 
            },
            { 
                title: "[시크릿브라더] 부동산 큐레이팅 후기", 
                content: `안녕하세요, 10월 초 추석 연휴 전 큐레이팅을 신청 하였고, 실거주와 갭투자를 고민하는 상황이었습니다.<br>결론을 먼저 말씀 드리자면 시크릿브라더님 큐레이팅 조언을 통해 실거주집을 매수하기로 계약을 한 상태입니다.<br>결과부터 말씀드리자면 큐레이팅 내용에 대해 정말 대만족 입니다!<br><br>우선 간단하게 요약하자면 니즈와 상황을 말씀드리면 거기에 맞게 시브님이 생각하시는 답을 주십니다.<br>저는 당연히 부린이지만 나름의 고수님들도 많이 계실거라고 생각합니다. 하지만 저는 누구든 고민 끝에 내린 판단이라도 100% 확신을 갖지 못하고 불안감을 떨쳐낼 수는 없다고 생각합니다.<br><br>간단하게 원하는 규모, 지역이 정해져있었고 어느정도의 투자가 가능하다고 말씀드리면 거기에 맞게 답을 주셨습니다.<br>제 선택이 맞는지, 제 근거가 맞는지에 대해 시브님이 말씀하시는것과 맞추어보는 것이 아닌 그냥 원하는 방향에 대한 답을 들을 수 있는 것이 저는 아주 큰 장점이라 생각합니다.<br>누군가 투자하는데 명료하게 어디어디 하라고 알려주는 신뢰할 만한 곳은 정말 흔하지 않은 것 같습니다.<br>솔직히 질문에 대한 시브님의 답을 듣는 과정이 길지 않았고 명쾌했습니다.`, 
                author: "김기용님", date: "2025-10-27", rating: 5, badge: "BEST" 
            },
            { 
                title: "큐레이팅 후기", 
                content: `안녕하세요 큐레이팅 후기를 남깁니다.<br>저는 추석 연휴가 끝나고 큐레이팅을 시작해서 한 주만에 살던 집을 매도하고 새집을 매수하게 되었습니다.<br>처음에 큐레이팅을 신청할 때는 '정말로 이번 기회에 매도와 매수를 해야겠다' 이런 생각보다는 그간에 부동산에 대해서 제가 생각했던 시나리오를 누군가에게 검증 받아 보자라는 마음으로 시작했습니다.<br><br>사실 부동산이라는 것이 예민한 주제라 주변인들과 적극적인 토론을 하기는 좀 꺼려지는 경향이 있고 인터넷 카페에 고민을 올려도 고민에 댓글을 달아주는 분들의 상황이 다 저와 다르기 때문에 객관적인 상담은 어렵겠다고 생각했었습니다.<br><br>이때 마침 친구가 추천해준 '나는 1000만원으로 아파트 산다'라는 책의 저자 시크릿브라더가 생각나서 제 손으로 유투브를 검색해서 찾아내고 여기서 큐레이팅이 있다는 것을 보고 신청해서 상담을 받았습니다.<br><br>결과는 대만족이었습니다. 사실 이번에 매수까지 성공하지 못했더라도 굉장히 만족스러운 상담이었다고 생각합니다.<br>특히 저처럼 돌다리도 두드려보고 건너고 싶은 성격의 소유자이면서 또 남들이 하는 한마디에 맘이 크게 흔들릴 수 있는 분들에게 추천합니다.<br><br>다들 마음속에 '이렇게 이렇게 해서 이런 아파트를 사는게 좋지 않을까?' 라는 막연한 시나리오 들은 있을 겁니다.<br>이번에 큐레이팅을 받아 매도매수과정을 함께 해보니 이런 시나리오들을 행동으로 옮기는데 혼자서 해봤다면 (정말 괜찮은 좋은 방향의 시나리오라도) 많은 장애물들을 넘지 못하고 실행하지 못 했을 수도 있었을 거란 생각이 듭니다.<br><br>이번 부동산 거래는 인생에 있어 2번째이지만 가장 큰 부동산 거래 였는데 앞으로 어떻게 될지는 100% 장담할 순 없을 것 같습니다.<br>하지만 정말로 치열한 고민 끝에 내린 결정이었음을 이미 알고 있고 그러한 치열한 생각의 과정에서 옆에 있어 줬던 시크릿브라더에게 참 감사합니다.`, 
                author: "이민석님", date: "2025-10-27", rating: 5, badge: "BEST" 
            },
            { 
                title: "꼼꼼한 계약서 검토까지 감동입니다", 
                content: `매물 선정부터 계약까지 전 과정을 세심하게 케어해주셔서 안심이 되었습니다. 특히 계약서 쓸 때 특약 사항까지 꼼꼼하게 챙겨주셔서 부동산 사장님도 놀라시더라고요. 시브님 덕분에 안전하게 계약 잘 마쳤습니다.`, 
                author: "오민석님", date: "2025-10-25", rating: 5 
            },

            // --- 2024년 ---
            { 
                title: "24년 첫 투자 성공했습니다", 
                content: `부동산 침체기라 망설였는데, 오히려 지금이 기회라고 말씀해주셔서 용기 냈습니다. 시브님이 찍어주신 지역들 임장 다니면서 확신을 얻었고, 급매 잡아서 벌써 안전마진 확보했습니다. 감사합니다!`, 
                author: "강민호님", date: "2024-12-15", rating: 5 
            },
            { 
                title: "지방 소도시 투자의 정석", 
                content: `수도권만 보다가 지방 소도시 투자는 처음이었는데, 지역 분석부터 매물 선정까지 완벽하게 가이드해주셨습니다. 지방도 기회가 있다는 걸 알게 해주셔서 감사합니다. 월세 세팅해서 현금흐름 만들었습니다.`, 
                author: "최수정님", date: "2024-11-20", rating: 4 
            },
            { 
                title: "신혼집 마련 고민 해결!", 
                content: `결혼 앞두고 신혼집 어디로 해야 할지 막막했는데, 저희 부부 예산과 출퇴근 고려해서 최적의 입지를 추천해주셨습니다. 덕분에 싸우지 않고 좋은 집 구했습니다. 신혼부부 강력 추천!`, 
                author: "박지훈님", date: "2024-10-05", rating: 5 
            },
            { 
                title: "전화 상담보다 훨씬 좋네요", 
                content: `전화 상담은 끝나면 기억이 잘 안 나는데, 카톡으로 7일 동안 기록이 남으니까 나중에 다시 보기도 좋고 질문도 편하게 할 수 있어서 너무 좋았습니다. 꼼꼼한 답변 감동입니다.`, 
                author: "이혜진님", date: "2024-09-12", rating: 5 
            },
            { 
                title: "내 집 마련의 꿈을 이뤘습니다", 
                content: `평생 전세만 살다가 처음으로 내 집 마련 도전했습니다. 두려움이 앞섰지만 시브님이 옆에서 멘탈 케어까지 해주셔서 끝까지 갈 수 있었습니다. 등기 치던 날 눈물이 핑 돌더라고요. 은인이십니다.`, 
                author: "정상훈님", date: "2024-08-25", rating: 5 
            },
            { 
                title: "갈아타기 타이밍 완벽 적중", 
                content: `기존 집 매도가 안 돼서 고생하고 있었는데, 가격 조정이랑 부동산 내놓는 팁 알려주셔서 극적으로 매도했습니다. 그리고 바로 상급지 급매 잡아서 갈아타기 성공! 타이밍의 마술사 인정합니다.`, 
                author: "김미영님", date: "2024-07-10", rating: 5 
            },
            { 
                title: "부동산 투자의 눈을 떴습니다", 
                content: `그동안 제가 했던 건 투자가 아니라 투기였네요. 시브님 강의 듣고 데이터 보는 법 배우면서 진짜 투자가 뭔지 알게 되었습니다. 이제 혼자서도 지역 분석할 수 있을 것 같아요.`, 
                author: "오재원님", date: "2024-06-01", rating: 4 
            },
            { 
                title: "수강료 10배 뽑았습니다", 
                content: `30만원 강의료가 전혀 아깝지 않습니다. 네고 팁 알려주신 대로 해서 매매가 500만원 깎았습니다. 강의료의 10배 넘게 벌었네요. 무조건 들으세요.`, 
                author: "서동현님", date: "2024-05-15", rating: 5 
            },
            { 
                title: "재수강 의사 100%", 
                content: `이번에 큐레이팅 받고 너무 만족해서 다음에는 정규 강의도 들어보려고 합니다. 시브님 인사이트는 진짜 독보적입니다. 앞으로도 계속 따라가겠습니다.`, 
                author: "윤지수님", date: "2024-04-20", rating: 5 
            },
            { 
                title: "친구 추천으로 왔어요", 
                content: `친구가 시브님 도움 받고 청약 당첨됐다고 해서 저도 왔습니다. 저는 청약 가점이 낮아서 갭투자로 방향 잡았는데, 제 상황에 딱 맞는 전략 짜주셔서 든든합니다.`, 
                author: "한민수님", date: "2024-03-08", rating: 5 
            },
            { 
                title: "주말 임장 데이트", 
                content: `남편이랑 주말마다 임장 다니는 게 취미가 됐습니다. 시브님이 알려주신 체크리스트 들고 다니면서 보니까 안 보이던 게 보이더라고요. 부부 사이도 좋아지고 돈도 벌고 일석이조입니다.`, 
                author: "장서윤님", date: "2024-02-14", rating: 5 
            },
            { 
                title: "은퇴 준비 시작합니다", 
                content: `은퇴 앞두고 노후 자금 걱정이 많았는데, 월세 나오는 수익형 부동산이랑 시세 차익형 부동산 포트폴리오 잘 짜주셔서 한시름 놓았습니다. 노후 준비는 시크릿클래스에서!`, 
                author: "배철수님", date: "2024-01-22", rating: 5 },

            // --- 2023년 ---
            { 
                title: "정규반 5기 신O영님 후기", 
                content: `저는 경북의 작은 중소도시에 사는 50대 주부입니다. 9년전쯤 제가 살고 있는 도시에 택지조성이 되면서 그때 부동산 투자를 해서 현재 상가건물 2채를 소유하고 있고 현금흐름은 매달 500정도 됩니다.<br>상가에서 일정 수입을 창출하면서 한동안 부동산에 관심을 가지고 있지않았었어요... 남편도 공직에서 안정된 생활을 하고 있고... 언제부턴가 은행이율이 바닥인데 은행에 저금을 해봐야 아무 의미 없다는 것을 깨닫고 작년하반기 부터 아파트 투자에 관심을 가지게 되었습니다.<br><br>시브님 강의를 듣기전에 유명한 분의 강의를 들은적이 있습니다. 내용이 어쩜 비슷하다고 할수 있겠지만 제가 그 강의에 실망감을 가졌던데... 21년도 말에 20년에 촬영한 강의를 올려놨더라구요... 물론 바뀐부분에 몇강은 부분 재촬영을했다고 하지만 일단 성의가 너무 없어보였습니다.<br><br>반면 시브님 강의를 들으면서 제가 느낀 감정을 정리하면<br>- 시브님 강의는 늘 따끈 따끈 합니다.<br>- 시브님 강의는 늘 열정이 넘칩니다.<br>- 시브님 강의는 초보자가 듣기에 너무 너무 좋습니다.<br>이제 팩트입니다.`, 
                author: "신O영님", date: "2023-03-17", rating: 5 
            },
            { 
                title: "정규반 5기 손O정님 후기", 
                content: `나도 부동산 지역분석 할 수 있다,,,!<br><br>저는 2021년 초부터 부동산 관련 유투브도 열심히 보고, 부동산 도서, 카페글도 자주 읽으면서 부동산 투자 공부를 시작했지만, 실질적으로 어떤 지역을 투자지역으로 선정하고 또 어떤 단지를 선별하는 건지 전혀 감을 잡지 못하고 오히려 마음만 급해졌습니다.<br>그러다가 시크릿브라더님 책을 읽게 되었고 필터링이라는 신세계를 아주 살짝 맛보면서 차근 차근 따라해보던 찰나 좀 더 자세한 설명과 이해를 위해 강의를 수강하게 되었습니다.<br><br>시크릿브라더님의 강의는 저처럼 간이 좀 작으시거나 확실한걸 좋아하시는 분들이 수강하시면 아주 좋을 것 같아요 보수적으로 투자물건을 고를 수 있고, 내 상황에서 최고의 투자 물건을 선정할 수 있는 방법을 배웠습니다.`, 
                author: "손O정님", date: "2023-03-17", rating: 5 
            },
            { 
                title: "정규반 5기 김O선님 후기", 
                content: `저는 유트브 김작가TV로 시브님을 처음 접했습니다.<br>정신없이 아이들을 키우고 보니 50이 넘어 있는 제가,지금이라도 늦지 않았다고 다독이며 여러 부동산관련 유투브를 전전하던중 가뭄의 단비같이 시브님을 만났지요^^<br>이과성향인 저는 두리뭉실이 아닌 수치로,비교평가로 딱딱 떨어지는 7차 필터링이 정말 매력적일 수 밖에 없었습니다.<br><br>제일 좋았던것은 7차필터링이 부린이도 덤빌 수 있을만큼 체계적이고, 설명도 쉽게 해 주셔서 좋았고,내가 찿은 아파트가 올라도 얼마만큼 오를수 있는건지,왜 이 지역이 안전한지를 확실히 알수 있으니 부동산재테크 하는데 있어서 주도적일수 있다는 점에서 더 좋았습니다.`, 
                author: "김O선님", date: "2023-03-17", rating: 5 
            },
            { 
                title: "정규반 2기 미래소년k님 후기", 
                content: `시크릿 브라더님은 우연히 블로그를 통해서 알게 되었습니다.<br>강의를 듣고 들었던 생각은 '안개 낀 산 속에서 나무를 찾게 됐다!'<br><br>기존 강의나 책에서 투자할 도시와 지역을 찾는 방법에 대해서는 언급을 많이 하고 방법에 대해서도 알려주고 있습니다. 하지만 투자할 단지에 대한 구체적 접근은 알기 어려웠습니다.<br>시크릿 브라더님 강의는 그런 안개를 거둬내고 어떤 나무를 택해야 하는지에 대한 기준과 방향을 제시해주었습니다.`, 
                author: "미래소년k님", date: "2023-03-17", rating: 5 
            },
            { 
                title: "정규반 2기 민경인님 후기", 
                content: `19년에 얼결에 청약이 당첨되면서 부랴부랴 가입하게 된 부동산 카페! 2년동안 내 집 정보 알아보느라 들락날락 하다 부동산이라는 세로운 세계를 알게 되었다.<br>시브님 글들을 보면서 저 분은 어떻게 저런생각을 하고, 저런 단지들을 비교하게 되는거지?라고 계속 궁금했는데 그 하나하나의 생각들을 그 생각의 순서를 그대로 보여주는 강의이다. 1-7차 필터링은 공식과도 같이 너무나 명확한 기준이 있고, 첫 과제 할때에는 4차,7차 필터링이 너무나 어려웠는데 3-4주차 강의를 들으면서 반복에 또 반복 해주는 시브님 강의에 지금은 방법적인 부분에 대해서는 완벽히 이해가 된 것 같다.`, 
                author: "민경인님", date: "2023-03-17", rating: 5 
            },
            { 
                title: "정규반 1기 루저가이님 후기", 
                content: `안녕하세요. 시크릿브라더님 3주차까지 강의 후기입니다.<br>제 이야기를 아주 짧게 하자면, 저는 2014년 첫 집을 구매하고 (무지성 구매) 7년 동안은 대출 이자 갚고 그냥 아무생각 없이 미래만 불안해하면서 보냈습니다.<br>그러던 중에 아주 우연히 스크릿브라더님을 알게 되었고, 커리큘럼을 보니깐 아주 새로운 것을 가르쳐준다기 보다는 부동산에서 알아야 되는 아주 기초적인 것부터 차근차근 알려준다는 생각이 들었습니다. 그리고 실습형이라는 게 엄청나게 마음에 들었습니다.<br><br>강의를 들어보면 그 방법을 아주 차근차근 한땀한땀 정성스럽게 강의한다는 생각이 듭니다.`, 
                author: "루저가이님", date: "2023-03-17", rating: 5 
            },
            { 
                title: "정규반 1기 부자엄마님 후기", 
                content: `안녕하세요~ 저는 시크릿브라더 강의 1기 수강생 입니다.<br>부동산 투자에 아주 막연한 관심만 가지고 있다가 다른 투자들 하기 시작하면서 결국 기본이 되는 투자는 부동산이라는 생각에 부동산으로 영역을 확장(?)한 부생아 입니다.<br>장점은 뭐니뭐니해도 시간과 돈이 아깝지 않은 강의! 평생 써먹을 수 있는 강의! 실전형 강의! 시간을 절약해준 강의!<br><br>최강의 손품 파는 여러 어플 사용 법, 데이터를 보고 의미 해석 하는 것, 순서대로 필터링 하면서 교집합 만들어가서 미세한 체에 거르듯 투자 하여 잃지 않는, 내가 확신할 수 있어 흔들리지 않는 투자에 대해 알게 된 거 같아요.`, 
                author: "부자엄마님", date: "2023-03-17", rating: 4 
            },
            { 
                title: "정규반 1기 꼬밍맘87님 후기", 
                content: `부동산카페에서 열심히 읽었던 시브님의 강의를 직접 들을 수 있었어서 너무 좋았어요. 안그래도 글 읽으면서 강의는 없으실까 생각도 하고 진짜 다른 부동산 강의는 들어보려고 하니 400ㅡ500 만원대고 아직 제겐 너무 비싼 수강료라 부담 많이 됐었거든요.<br>근데 이렇게 적은 수강료로 알찬 강의 준비 해주셔서 너무 감사 했습니다.<br><br>어쩌다 직접 집을 매수하고 몸소 집값 오르는거 보니 너무 부동산에 대해서 알고 싶은거에요. 그러다 우연히 부동산 카페가서 시브님 글도 보고 이렇게 강의까지 듣게 되서 너무 행복했습니다!!!`, 
                author: "꼬밍맘87님", date: "2023-03-17", rating: 5 
            }
        ];

        // 날짜순 정렬 (최신순)
        allReviews.sort((a, b) => new Date(b.date) - new Date(a.date));

        // 조회수 배정 (100~500)
        allReviews.forEach(r => r.views = calculateViews(100, 500));

        let visibleCount = 12;
        const container = document.getElementById('all-reviews-container');
        document.getElementById('review-count').innerText = allReviews.length;

        function renderAllReviews() {
            container.innerHTML = '';
            const toShow = allReviews.slice(0, visibleCount);
            
            toShow.forEach((review, index) => {
                const card = document.createElement('div');
                card.className = "bg-white p-6 rounded-2xl shadow-sm border border-gray-100 review-card flex flex-col justify-between";
                card.onclick = () => openDetail(index);
                
                let badge = "";
                if(review.badge === "BEST" || review.type === "BEST") badge = `<span class="text-red-500 font-bold text-xs bg-red-50 px-2 py-1 rounded">BEST</span>`;
                else if(review.date.startsWith("2025")) badge = `<span class="text-indigo-500 font-bold text-xs bg-indigo-50 px-2 py-1 rounded">NEW</span>`;
                else badge = `<span class="text-gray-400 font-bold text-xs bg-gray-100 px-2 py-1 rounded">REVIEW</span>`;
                
                // 별점 생성
                let stars = "";
                for(let i=1; i<=5; i++) {
                    if(i <= review.rating) stars += `<i data-lucide="star" class="w-3 h-3 fill-current text-yellow-400"></i>`;
                    else stars += `<i data-lucide="star" class="w-3 h-3 text-gray-300"></i>`;
                }

                card.innerHTML = `
                    <div>
                        <div class="flex justify-between mb-2">${badge}<span class="text-xs text-gray-400">${review.date}</span></div>
                        <h3 class="font-bold text-lg mb-2 truncate text-gray-900">${review.title}</h3>
                        <div class="text-gray-600 text-sm line-clamp-3 raw-content">${review.content}</div>
                    </div>
                    <div class="mt-4 pt-4 border-t text-sm font-bold text-gray-700 flex justify-between">
                        <span>${review.author}</span>
                        <div class="flex gap-1">${stars}</div>
                    </div>
                    <div class="mt-1 text-right text-xs text-gray-400 flex justify-end items-center gap-1"><i data-lucide="eye" class="w-3 h-3"></i> ${review.views}</div>
                `;
                container.appendChild(card);
            });

            if(visibleCount >= allReviews.length) {
                document.getElementById('load-more-btn').style.display = 'none';
            }
            lucide.createIcons();
        }

        function loadMore() {
            visibleCount += 12;
            renderAllReviews();
        }

        function openDetail(renderIndex) {
            const review = allReviews[renderIndex];
            
            // 모달 내용 채우기
            document.getElementById('modal-title').innerText = review.title;
            // 줄바꿈이 포함된 텍스트이므로 innerHTML로 넣되, 엔터키는 <br>로 변경하는 로직이 필요할 수 있으나
            // 위 데이터에서 이미 <br>을 넣었거나 raw-content 클래스(white-space: pre-wrap)가 처리함.
            // 여기서는 innerHTML로 넣어서 <br> 태그가 먹히도록 함.
            document.getElementById('modal-content').innerHTML = review.content;
            
            document.getElementById('modal-author').innerText = review.author;
            document.getElementById('modal-date').innerText = review.date;
            document.getElementById('modal-views').innerText = review.views;
            
            // 모달 별점 생성
            let stars = "";
            for(let i=1; i<=5; i++) {
                if(i <= review.rating) stars += `<i data-lucide="star" class="w-4 h-4 fill-current text-yellow-400"></i>`;
                else stars += `<i data-lucide="star" class="w-4 h-4 text-gray-300"></i>`;
            }
            document.getElementById('modal-stars').innerHTML = stars;

            const badge = document.getElementById('modal-badge');
            if(review.badge === 'BEST' || review.type === 'BEST') {
                badge.className = "bg-red-100 text-red-600 text-xs font-bold px-2 py-0.5 rounded";
                badge.innerText = "BEST";
                badge.classList.remove('hidden');
            } else {
                badge.classList.add('hidden');
            }
            
            // 모달 띄우기
            const modal = document.getElementById('reviewDetailModal');
            modal.classList.remove('hidden');
            
            // 아이콘 리로드 (모달 내부)
            lucide.createIcons();
        }

        // [작성 권한 체크 - 결제 여부 확인]
        function openWriteReview() {
            const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
            if(!isLoggedIn) {
                alert("로그인이 필요한 서비스입니다.\n메인 페이지에서 로그인 후 이용해주세요.");
                return;
            }
            
            // 결제 상태 확인
            const paymentStatus = localStorage.getItem('paymentStatus');
            if (paymentStatus !== 'paid') {
                alert("수강 신청(결제)을 완료한 회원만 후기를 작성할 수 있습니다.\n(입금 확인 중인 경우 완료 후 작성 가능합니다)");
                return;
            }

            toggleModal('writeReviewModal');
        }

        function submitReview() {
            const title = document.getElementById('review-input-title').value;
            const content = document.getElementById('review-input-content').value;
            const rating = parseInt(document.getElementById('review-input-rating').value);
            const author = localStorage.getItem('userName') || '익명';
            
            if(!title || !content) return alert("내용을 입력해주세요");

            const newRev = {
                title: title,
                content: content.replace(/\n/g, '<br>'), // 줄바꿈을 <br>로 변환 저장
                author: author + "님",
                date: new Date().toISOString().split('T')[0],
                type: "NORMAL",
                rating: rating,
                views: calculateViews(100, 500)
            };
            allReviews.unshift(newRev); // 맨 앞에 추가
            renderAllReviews();
            toggleModal('writeReviewModal');
            alert("후기가 등록되었습니다!");
            
            // 폼 초기화
            document.getElementById('review-input-title').value = '';
            document.getElementById('review-input-content').value = '';
        }

        // 초기 렌더링
        renderAllReviews();
    </script>
</body>
</html>