<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>전체 수강 후기 - 시크릿클래스</title>
    <!-- Tailwind CSS & Lucide Icons -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @font-face {
            font-family: 'Jalnan';
            src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonnu-fonts_two@1.0/Jalnan.woff') format('woff');
            font-weight: normal;
            font-style: normal;
        }
        * { font-family: 'Jalnan', sans-serif !important; }
        @import url('https://fonts.googleapis.com/css2?family=Pretendard:wght@300;400;500;600;700&display=swap');
        .font-body { font-family: 'Pretendard', sans-serif !important; }
        body { letter-spacing: -0.02em; }
        .review-card { transition: transform 0.2s, box-shadow 0.2s; cursor: pointer; }
        .review-card:hover { transform: translateY(-3px); box-shadow: 0 10px 20px rgba(0,0,0,0.05); }
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: #cbd5e1; border-radius: 3px; }
        .custom-scrollbar::-webkit-scrollbar-track { background-color: #f1f5f9; }
    </style>
</head>
<body class="bg-gray-50 text-gray-900 font-body">

    <!-- 헤더 -->
    <header class="bg-white border-b border-gray-200 sticky top-0 z-50">
        <div class="max-w-6xl mx-auto px-4 py-4 flex justify-between items-center">
            <a href="index.html" class="flex items-center gap-2 group text-indigo-600 font-bold">
                <i data-lucide="arrow-left" class="w-6 h-6"></i> 홈으로 돌아가기
            </a>
            <div class="text-xl font-bold text-indigo-900">SecretClass Reviews</div>
        </div>
    </header>

    <!-- 메인 컨텐츠 -->
    <main class="max-w-6xl mx-auto px-4 py-12">
        <div class="flex flex-col md:flex-row justify-between items-end mb-8 gap-4">
            <div>
                <h1 class="text-3xl md:text-4xl font-bold text-gray-900 mb-2">실시간 수강 후기</h1>
                <p class="text-gray-600">지금 이 순간에도 새로운 후기가 올라오고 있습니다.</p>
            </div>
            <!-- 후기 쓰기 버튼 -->
            <button onclick="openWriteReview()" class="bg-indigo-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-indigo-700 transition-colors shadow-lg flex items-center gap-2">
                <i data-lucide="pen-tool" class="w-4 h-4"></i> 나도 후기 쓰기
            </button>
        </div>

        <div id="all-reviews-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
    </main>

    <!-- 후기 상세 모달 -->
    <div id="reviewDetailModal" class="hidden fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm" onclick="toggleModal('reviewDetailModal')">
        <div class="bg-white w-full max-w-2xl max-h-[80vh] rounded-2xl shadow-2xl relative overflow-hidden flex flex-col" onclick="event.stopPropagation()">
            <div class="p-5 border-b border-gray-100 flex justify-between items-center bg-gray-50 flex-shrink-0">
                <h3 class="text-lg font-bold text-gray-900">후기 상세 보기</h3>
                <button onclick="toggleModal('reviewDetailModal')" class="text-gray-400 hover:text-gray-600"><i data-lucide="x" class="w-6 h-6"></i></button>
            </div>
            <div class="p-6 overflow-y-auto custom-scrollbar font-body flex-grow">
                <div class="flex items-center gap-2 mb-4">
                     <div class="flex text-yellow-400"><i data-lucide="star" class="w-4 h-4 fill-current"></i><i data-lucide="star" class="w-4 h-4 fill-current"></i><i data-lucide="star" class="w-4 h-4 fill-current"></i><i data-lucide="star" class="w-4 h-4 fill-current"></i><i data-lucide="star" class="w-4 h-4 fill-current"></i></div>
                     <span id="modal-badge" class="hidden"></span>
                </div>
                <h2 id="modal-title" class="text-xl font-bold text-gray-900 mb-6 leading-snug"></h2>
                <div id="modal-content" class="text-gray-700 leading-relaxed whitespace-pre-wrap mb-8 text-base"></div>
                <div class="flex items-center justify-between pt-4 border-t border-gray-100 text-sm text-gray-500">
                    <div class="flex items-center gap-2"><span class="font-bold text-gray-900" id="modal-author"></span><span class="text-xs text-gray-400">|</span><span id="modal-date"></span></div>
                </div>
            </div>
            <div class="p-4 border-t border-gray-100 bg-gray-50 text-center flex-shrink-0">
                <button onclick="toggleModal('reviewDetailModal')" class="w-full bg-indigo-600 text-white py-3 rounded-xl font-bold hover:bg-indigo-700 transition-colors">닫기</button>
            </div>
        </div>
    </div>

    <!-- 후기 작성 모달 -->
    <div id="writeReviewModal" class="hidden fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm" onclick="toggleModal('writeReviewModal')">
        <div class="bg-white w-full max-w-lg rounded-2xl shadow-2xl relative overflow-hidden" onclick="event.stopPropagation()">
            <div class="p-5 border-b border-gray-100 flex justify-between items-center bg-gray-50">
                <h3 class="text-lg font-bold text-gray-900">후기 작성하기</h3>
                <button onclick="toggleModal('writeReviewModal')" class="text-gray-400 hover:text-gray-600"><i data-lucide="x" class="w-6 h-6"></i></button>
            </div>
            <div class="p-6 font-body">
                <div class="mb-4"><label class="block text-sm font-bold text-gray-700 mb-2">제목</label><input type="text" id="review-input-title" class="w-full border border-gray-300 rounded-lg p-3 text-sm focus:outline-none" placeholder="제목을 입력하세요"></div>
                <div class="mb-6"><label class="block text-sm font-bold text-gray-700 mb-2">내용</label><textarea id="review-input-content" rows="5" class="w-full border border-gray-300 rounded-lg p-3 text-sm focus:outline-none" placeholder="내용을 입력하세요"></textarea></div>
                <button onclick="submitReview()" class="w-full bg-indigo-600 text-white py-3 rounded-xl font-bold hover:bg-indigo-700 transition-colors">등록하기</button>
            </div>
        </div>
    </div>

    <script>
        function toggleModal(id) { const el = document.getElementById(id); el.classList.toggle('hidden'); }

        const allReviews = [
            // BEST 데이터 (원본)
            { title: "[시크릿브라더] 부동산 큐레이팅 후기", content: `안녕하세요, 
10월 초 추석 연휴 전 큐레이팅을 신청 하였고, 실거주와 갭투자를 고민하는 상황이었습니다. 
결론을 먼저 말씀 드리자면 시크릿브라더님 큐레이팅 조언을 통해 실거주집을 매수하기로 계약을 한 상태입니다. 
결과부터 말씀드리자면 큐레이팅 내용에 대해 정말 대만족 입니다!

우선 간단하게 요약하자면 니즈와 상황을 말씀드리면 거기에 맞게 시브님이 생각하시는 답을 주십니다.
저는 당연히 부린이지만 나름의 고수님들도 많이 계실거라고 생각합니다. 하지만 저는 누구든 고민 끝에 내린 판단이라도 100% 확신을 갖지 못하고 불안감을 떨쳐낼 수는 없다고 생각합니다.
간단하게 원하는 규모, 지역이 정해져있었고 어느정도의 투자가 가능하다고 말씀드리면 거기에 맞게 답을 주셨습니다.
제 선택이 맞는지, 제 근거가 맞는지에 대해 시브님이 말씀하시는것과 맞추어보는 것이 아닌 그냥 원하는 방향에 대한 답을 들을 수 있는 것이 저는 아주 큰 장점이라 생각합니다.
누군가 투자하는데 명료하게 어디어디 하라고 알려주는 신뢰할 만한 곳은 정말 흔하지 않은 것 같습니다.
솔직히 질문에 대한 시브님의 답을 듣는 과정이 길지 않았고 명쾌했습니다.`, author: "김기용님", date: "2025-10-27", type: "BEST" },
            
            { title: "시크릿큐레이팅후기_막막함에 확신이 생깁니다. 돈 안 아까움 주의!!", content: `안녕하세요, 전 9월 중순에 큐레이팅을 받았습니다.
아시다시피 큐레이팅은 일주일간 진행되는데, 
다른 상담들은 한번만 그리고 몇 시간동안만 진행되는 것에 비해
시크릿큐레이팅은 일주일이라는 시간이 주어지고
언제든 질문을 하고 답변을 받을 수 있다는 점이 참 좋았습니다.
 
저는 큐레이팅을 시작했을 당시, 실거주와 투자. 어느 것을 하는 것이 좋을 지도 결정 못하고 있었습니다.
시브님은 제 의견은 다 들어주시되, 시브님의 의견을 근거를 들어가며 설명해 주시고,
저에게 선택권을 주셨습니다.
덕분에 전 실거주로 방향성을 잡게 되었고,
시브님의 근거들 덕분에 제 방향성에 확신을 더할 수 있었습니다.
 
그리고, 상담을 많이 해보셔서 그런 걸까요? 아님 책이나 여러 경험들을 통해 그릇이 커서 그런 걸까요?
저는 큐레이팅 내내 경제적인 것 뿐만이 아니라 인생에 대해서도 저보다 큰 그릇을 갖고 계신 분과 대화 함으로써 
느끼는 경외감?이 있었습니다.
실거주다 보니 아이와 남편의 이야기까지 하게 되는데, 
제가 망설이거나 고민하고 있는 부분을 잘 잡아 주셔서 감사했던 기억이 있습니다.`, author: "이수정님", date: "2025-12-01", type: "BEST" },
            
            { title: "큰 돈이 들어가는 만큼, 경험이 적은 만큼 전문가의 조언을 얻어야 한다.", content: `안녕하세요? 이번 시크릿 큐레이팅을 받으며 감사하게도 한 주만에 매도와 매수를 모두 하였고 계약서 작성을 앞두고 있습니다.
저는 평소 시크릿브라더님 블로그를 보며 공부하고 있던 수강생입니다. 23년도 저는 갈아타기를 했었습니다. 전문가 조언 없이요!
하지만 시간이 갈수록 가치가 낮다는 것을 알게 되었고, 그 당시 매수할 수 있었던 다른 물건들은 1-2억씩 먼저 오르는 상황이 되었습니다.
그래서 이번엔 전문가이신 시브님 큐레이팅을 신청하게 되었습니다!
결과적으로 좋은 물건을, 좋은 가격에 매수할 수 있었던 건 시크릿 큐레이팅 덕분입니다.`, author: "이서연님", date: "2025-11-27", type: "BEST" },
            
            { title: "조정지역 발표 다음날 동탄 매수 시크릿큐레이팅 후기", content: `안녕하세요 전 추석직전 큐레이팅 신청하고 추석연휴동안 갈아타기를 위해 열심히 임장을 다녔습니다.
70일 아기를 데리고 임장을 하는 것이 정말 쉽지 않았는데요. 아기와 나중에 실거주와 투자하기 좋은 곳으로 살고싶다는 목표로 버틴것 같습니다.
시부님께서는 큐레이팅기간 종료후에도 제가 계약종료를 마칠때까지 잘 이끌어주셨습니다.
덕분에 저는 동탄을 갈아타기 해서 매수할 수 있었고 현재는 풍선효과로 가격이 제가 매수한 가격보다 많이 올랐습니다.`, author: "변미소님", date: "2025-11-12", type: "BEST" },
            
            { title: "3년간 못했던 내집마련, 시브님 만나고 2주만에 성공!", content: `안녕하세요! 결혼을 준비하던 약 3년 전부터 부동산을 째려보던 제가 시브님을 만나고 약 2주만에 서울에 내집 마련을 했습니다!
성격이 좋게 말하면 꼼꼼하고 나쁘게 말하면 의사 결정을 잘 못내리는데, 좋은 시기에 시브님을 만나 빠르게 의사결정 내려서 드디어 매수에 성공했습니다.
가장 추천 드리는 부분은 예산에 맞는 최고의 단지를 추천해주시고 움직일 수 있도록 이끌어주시는 부분입니다.`, author: "김아름님", date: "2025-11-04", type: "BEST" },
            
            { title: "큐레이팅 후기", content: `안녕하세요 큐레이팅 후기를 남깁니다. 저는 추석 연휴가 끝나고 큐레이팅을 시작해서 한 주만에 살던 집을 매도하고 새집을 매수하게 되었습니다.
처음에 큐레이팅을 신청할 때는 '정말로 이번 기회에 매도와 매수를 해야겠다' 이런 생각보다는 그간에 부동산에 대해서 제가 생각했던 시나리오를 검증 받아 보자라는 마음이었습니다.
결과는 대만족이었습니다. 사실 이번에 매수까지 성공하지 못했더라도 굉장히 만족스러운 상담이었다고 생각합니다.`, author: "이민석님", date: "2025-10-27", type: "BEST" },

            // 일반 후기
            { title: "시브님 큐레이팅 대박입니다.", content: "평소 블로그랑 유튜브 보면서 공부하고 있었는데, 이번에 큰맘 먹고 큐레이팅 신청했습니다. 제가 고민하던 지역뿐만 아니라 생각지도 못한 저평가 지역까지 알려주셔서 선택의 폭이 넓어졌습니다. 특히 매수 타이밍을 정확하게 짚어주시는 게 소름 돋았습니다. 강력 추천합니다!", author: "한철수님", date: "2025-12-05", type: "NORMAL" },
            { title: "부린이도 이해하기 쉬운 설명", content: "부동산 용어도 잘 모르는 부린이라 걱정 많이 했는데, 제 눈높이에 맞춰서 하나하나 설명해주셔서 너무 감사했습니다. 단순히 물건 추천이 아니라 부동산 공부하는 방법까지 알려주셔서 앞으로 투자하는 데 큰 도움이 될 것 같습니다.", author: "박진영님", date: "2025-12-03", type: "NORMAL" },
            { title: "갈아타기 성공했습니다!", content: "1주택자인데 상급지로 갈아타기 하려고 1년 넘게 고민만 하다가 시브님 도움받고 드디어 성공했습니다. 매도 타이밍이랑 매수 타이밍을 기가 막히게 잡아주셔서 세금도 아끼고 좋은 가격에 이사 가게 되었습니다. 진작 신청할 걸 그랬어요.", author: "최준호님", date: "2025-11-28", type: "NORMAL" },
            { title: "데이터 기반의 정확한 분석", content: "감으로 투자하는 게 아니라 철저하게 데이터에 기반해서 분석해주시는 게 인상적이었습니다. 공급 물량, 미분양 추이, 전세가율 등 다양한 지표를 근거로 설명해주시니 신뢰가 갔습니다. 덕분에 불안감 없이 투자 결정 내렸습니다.", author: "정민우님", date: "2025-11-20", type: "NORMAL" },
            { title: "지방 투자도 역시 시브님", content: "서울/수도권만 잘 아시는 줄 알았는데 지방 흐름도 꽉 잡고 계시더라고요. 지방 갭투자처 찾고 있었는데 시브님이 추천해주신 곳 임장 가보고 바로 계약했습니다. 벌써 호가 오르고 있어서 기분 좋네요 ㅎㅎ", author: "강성민님", date: "2025-11-15", type: "NORMAL" }
        ];

        // 최신순 정렬
        allReviews.sort((a, b) => new Date(b.date) - new Date(a.date));

        const container = document.getElementById('all-reviews-container');
        function render() {
            container.innerHTML = '';
            allReviews.forEach((review, index) => {
                const card = document.createElement('div');
                card.className = "bg-white p-6 rounded-2xl shadow-sm border border-gray-100 review-card flex flex-col justify-between";
                card.onclick = () => openDetail(index);
                
                let badge = review.type === 'BEST' ? '<span class="text-red-500 font-bold text-xs bg-red-50 px-2 py-1 rounded">BEST</span>' : '<span class="text-indigo-500 font-bold text-xs bg-indigo-50 px-2 py-1 rounded">NEW</span>';
                
                card.innerHTML = `
                    <div>
                        <div class="flex justify-between mb-2">${badge}<span class="text-xs text-gray-400">${review.date}</span></div>
                        <h3 class="font-bold text-lg mb-2 truncate text-gray-900">${review.title}</h3>
                        <p class="text-gray-600 text-sm line-clamp-3">${review.content}</p>
                    </div>
                    <div class="mt-4 pt-4 border-t text-sm font-bold text-gray-700">${review.author}</div>
                `;
                container.appendChild(card);
            });
            lucide.createIcons();
        }

        function openDetail(index) {
            const review = allReviews[index];
            document.getElementById('modal-title').innerText = review.title;
            document.getElementById('modal-content').innerText = review.content;
            document.getElementById('modal-author').innerText = review.author;
            document.getElementById('modal-date').innerText = review.date;
            
            const badge = document.getElementById('modal-badge');
            if(review.type === 'BEST') {
                badge.className = "bg-red-100 text-red-600 text-xs font-bold px-2 py-0.5 rounded";
                badge.innerText = "BEST";
                badge.classList.remove('hidden');
            } else {
                badge.classList.add('hidden');
            }
            toggleModal('reviewDetailModal');
        }

        // [작성 권한 체크]
        function openWriteReview() {
            const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
            if(!isLoggedIn) {
                alert("로그인이 필요한 서비스입니다.\n메인 페이지에서 로그인 후 이용해주세요.");
                return;
            }
            toggleModal('writeReviewModal');
        }

        function submitReview() {
            const title = document.getElementById('review-input-title').value;
            const content = document.getElementById('review-input-content').value;
            const author = localStorage.getItem('userName') || '익명';
            
            if(!title || !content) return alert("내용을 입력해주세요");

            const newRev = {
                title: title,
                content: content,
                author: author + "님",
                date: new Date().toISOString().split('T')[0],
                type: "NORMAL"
            };
            allReviews.unshift(newRev);
            render();
            toggleModal('writeReviewModal');
            alert("후기가 등록되었습니다!");
        }

        render();
    </script>
</body>
</html>