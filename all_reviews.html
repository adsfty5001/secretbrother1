<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>전체 수강 후기 - 시크릿클래스</title>
    <!-- Tailwind CSS & Lucide Icons -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @font-face {
            font-family: 'Jalnan';
            src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonnu-fonts_two@1.0/Jalnan.woff') format('woff');
            font-weight: normal;
            font-style: normal;
        }
        * { font-family: 'Jalnan', sans-serif !important; }
        @import url('https://fonts.googleapis.com/css2?family=Pretendard:wght@300;400;500;600;700&display=swap');
        .font-body { font-family: 'Pretendard', sans-serif !important; }
        body { letter-spacing: -0.02em; }
        
        .review-card { transition: transform 0.2s, box-shadow 0.2s; cursor: pointer; }
        .review-card:hover { transform: translateY(-3px); box-shadow: 0 10px 20px rgba(0,0,0,0.05); }
        
        /* 모달 스크롤바 */
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: #cbd5e1; border-radius: 3px; }
        .custom-scrollbar::-webkit-scrollbar-track { background-color: #f1f5f9; }
        
        /* 본문 원본 스타일 (줄바꿈/태그 유지) */
        .raw-content { line-height: 1.7; color: #374151; white-space: pre-wrap; font-size: 0.95rem; }
        .raw-content p { margin-bottom: 1em; }
    </style>
</head>
<body class="bg-gray-50 text-gray-900 font-body">

    <!-- 헤더 -->
    <header class="bg-white border-b border-gray-200 sticky top-0 z-50">
        <div class="max-w-6xl mx-auto px-4 py-4 flex justify-between items-center">
            <a href="index.html" class="flex items-center gap-2 group text-indigo-600 font-bold hover:text-indigo-800 transition-colors">
                <i data-lucide="arrow-left" class="w-6 h-6"></i> 홈으로 돌아가기
            </a>
            <div class="text-xl font-bold text-indigo-900">수강생 리얼 후기</div>
        </div>
    </header>

    <!-- 메인 컨텐츠 -->
    <main class="max-w-6xl mx-auto px-4 py-12">
        <div class="flex flex-col md:flex-row justify-between items-end mb-8 gap-4">
            <div>
                <h1 class="text-3xl md:text-4xl font-bold text-gray-900 mb-2">실시간 수강 후기</h1>
                <p class="text-gray-600">지금 이 순간에도 새로운 후기가 올라오고 있습니다. (총 <span id="review-count" class="font-bold text-indigo-600">0</span>개)</p>
            </div>
            <!-- 후기 쓰기 버튼 -->
            <button onclick="openWriteReview()" class="bg-indigo-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-indigo-700 transition-colors shadow-lg flex items-center gap-2">
                <i data-lucide="pen-tool" class="w-4 h-4"></i> 나도 후기 쓰기
            </button>
        </div>

        <!-- 후기 리스트 (Grid) -->
        <div id="all-reviews-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
        
        <!-- 더보기 버튼 -->
        <div class="text-center mt-12">
            <button id="load-more-btn" onclick="loadMore()" class="bg-white border border-gray-300 text-gray-600 hover:text-indigo-600 hover:border-indigo-600 px-12 py-3 rounded-full font-bold transition-all shadow-sm">
                후기 더보기 +
            </button>
        </div>
    </main>

    <!-- [모달] 후기 상세 보기 (스크롤 가능) -->
    <div id="reviewDetailModal" class="hidden fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm" onclick="toggleModal('reviewDetailModal')">
        <div class="bg-white w-full max-w-2xl max-h-[85vh] rounded-2xl shadow-2xl relative overflow-hidden flex flex-col" onclick="event.stopPropagation()">
            <!-- 헤더 -->
            <div class="p-5 border-b border-gray-100 flex justify-between items-center bg-gray-50 flex-shrink-0">
                <h3 class="text-lg font-bold text-gray-900">후기 상세 보기</h3>
                <button onclick="toggleModal('reviewDetailModal')" class="text-gray-400 hover:text-gray-600"><i data-lucide="x" class="w-6 h-6"></i></button>
            </div>
            <!-- 본문 (스크롤 영역) -->
            <div class="p-8 overflow-y-auto custom-scrollbar font-body flex-grow bg-white">
                <div class="flex items-center gap-2 mb-4" id="modal-stars">
                     <!-- 별점 JS로 주입 -->
                </div>
                <h2 id="modal-title" class="text-2xl font-bold text-gray-900 mb-6 leading-snug break-keep"></h2>
                
                <!-- 원본 내용이 들어가는 곳 -->
                <div id="modal-content" class="text-gray-700 leading-relaxed text-base raw-content"></div>
                
                <div class="mt-8 pt-6 border-t border-gray-100 text-sm text-gray-500 flex justify-between items-center">
                    <div class="flex items-center gap-2">
                        <span class="font-bold text-gray-900" id="modal-author"></span>
                        <span class="text-gray-300">|</span>
                        <span id="modal-date"></span>
                    </div>
                    <div class="flex items-center gap-1"><i data-lucide="eye" class="w-4 h-4"></i> <span id="modal-views"></span></div>
                </div>
            </div>
            <!-- 닫기 버튼 -->
            <div class="p-4 border-t border-gray-100 bg-gray-50 text-center flex-shrink-0">
                <button onclick="toggleModal('reviewDetailModal')" class="w-full bg-indigo-600 text-white py-3 rounded-xl font-bold hover:bg-indigo-700 transition-colors">닫기</button>
            </div>
        </div>
    </div>

    <!-- [모달] 후기 작성 -->
    <div id="writeReviewModal" class="hidden fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm" onclick="toggleModal('writeReviewModal')">
        <div class="bg-white w-full max-w-lg rounded-2xl shadow-2xl relative overflow-hidden" onclick="event.stopPropagation()">
            <div class="p-5 border-b border-gray-100 flex justify-between items-center bg-gray-50">
                <h3 class="text-lg font-bold text-gray-900">후기 작성하기</h3>
                <button onclick="toggleModal('writeReviewModal')" class="text-gray-400 hover:text-gray-600"><i data-lucide="x" class="w-6 h-6"></i></button>
            </div>
            <div class="p-6 font-body">
                <div class="mb-4">
                    <label class="block text-sm font-bold text-gray-700 mb-2">제목</label>
                    <input type="text" id="review-input-title" class="w-full border border-gray-300 rounded-lg p-3 text-sm focus:outline-none focus:border-indigo-500" placeholder="제목을 입력하세요">
                </div>
                <div class="mb-6">
                    <label class="block text-sm font-bold text-gray-700 mb-2">내용</label>
                    <textarea id="review-input-content" rows="8" class="w-full border border-gray-300 rounded-lg p-3 text-sm focus:outline-none focus:border-indigo-500" placeholder="내용을 입력하세요 (줄바꿈 가능)"></textarea>
                </div>
                <!-- 별점 선택 기능 추가 -->
                 <div class="mb-6">
                    <label class="block text-sm font-bold text-gray-700 mb-2">별점</label>
                    <select id="review-input-rating" class="w-full border border-gray-300 rounded-lg p-3 text-sm focus:outline-none focus:border-indigo-500 bg-white">
                        <option value="5">★★★★★ (5점)</option>
                        <option value="4">★★★★☆ (4점)</option>
                        <option value="3">★★★☆☆ (3점)</option>
                    </select>
                </div>
                <button onclick="submitReview()" class="w-full bg-indigo-600 text-white py-3 rounded-xl font-bold hover:bg-indigo-700 transition-colors">등록하기</button>
            </div>
        </div>
    </div>

    <script>
        function toggleModal(id) { const el = document.getElementById(id); el.classList.toggle('hidden'); }
        // 조회수 랜덤 (100~500)
        function calculateViews() { return Math.floor(Math.random() * (500 - 100 + 1)) + 100; }

        // [데이터] 원본 유지 & 2025~2023 타임라인 정렬
        // (주의: 내용은 절대 수정하지 않음)
        const allReviews = [
            // === 2025년 ===
            { title: "시브님 큐레이팅 대박입니다.", content: "평소 블로그랑 유튜브 보면서 공부하고 있었는데, 이번에 큰맘 먹고 큐레이팅 신청했습니다. 제가 고민하던 지역뿐만 아니라 생각지도 못한 저평가 지역까지 알려주셔서 선택의 폭이 넓어졌습니다. 특히 매수 타이밍을 정확하게 짚어주시는 게 소름 돋았습니다. 강력 추천합니다!", author: "한철수님", date: "2025-12-05", rating: 5 },
            { title: "부린이도 이해하기 쉬운 설명 감사합니다", content: "부동산 용어도 잘 모르는 부린이라 걱정 많이 했는데, 제 눈높이에 맞춰서 하나하나 설명해주셔서 너무 감사했습니다. 단순히 물건 추천이 아니라 부동산 공부하는 방법까지 알려주셔서 앞으로 투자하는 데 큰 도움이 될 것 같습니다.", author: "박진영님", date: "2025-12-03", rating: 4 }, // 별점 4점
            { title: "시크릿큐레이팅후기_막막함에 확신이 생깁니다. 돈 안 아까움 주의!!", content: `안녕하세요, 전 9월 중순에 큐레이팅을 받았습니다.\n아시다시피 큐레이팅은 일주일간 진행되는데, 다른 상담들은 한번만 그리고 몇 시간동안만 진행되는 것에 비해 시크릿큐레이팅은 일주일이라는 시간이 주어지고 언제든 질문을 하고 답변을 받을 수 있다는 점이 참 좋았습니다.\n\n저는 큐레이팅을 시작했을 당시, 실거주와 투자. 어느 것을 하는 것이 좋을 지도 결정 못하고 있었습니다.\n시브님은 제 의견은 다 들어주시되, 시브님의 의견을 근거를 들어가며 설명해 주시고, 저에게 선택권을 주셨습니다.\n덕분에 전 실거주로 방향성을 잡게 되었고, 시브님의 근거들 덕분에 제 방향성에 확신을 더할 수 있었습니다.`, author: "이수정님", date: "2025-12-01", rating: 5, badge: "BEST" },
            { title: "갈아타기 성공했습니다!", content: "1주택자인데 상급지로 갈아타기 하려고 1년 넘게 고민만 하다가 시브님 도움받고 드디어 성공했습니다. 매도 타이밍이랑 매수 타이밍을 기가 막히게 잡아주셔서 세금도 아끼고 좋은 가격에 이사 가게 되었습니다. 진작 신청할 걸 그랬어요.", author: "최준호님", date: "2025-11-28", rating: 5 },
            { title: "큰 돈이 들어가는 만큼, 경험이 적은 만큼 전문가의 조언을 얻어야 한다.", content: `안녕하세요? 이번 시크릿 큐레이팅을 받으며 감사하게도 한 주만에 매도와 매수를 모두 하였고 계약서 작성을 앞두고 있습니다.\n저는 평소 시크릿브라더님 블로그를 보며 공부하고 있던 수강생입니다. 23년도 저는 갈아타기를 했었습니다. 전문가 조언 없이요!\n하지만 시간이 갈수록 가치가 낮다는 것을 알게 되었고, 그 당시 매수할 수 있었던 다른 물건들은 1-2억씩 먼저 오르는 상황이 되었습니다.\n그래서 이번엔 전문가이신 시브님 큐레이팅을 신청하게 되었습니다!\n결과적으로 좋은 물건을, 좋은 가격에 매수할 수 있었던 건 시크릿 큐레이팅 덕분입니다.`, author: "이서연님", date: "2025-11-27", rating: 5, badge: "BEST" },
            { title: "데이터 기반의 정확한 분석", content: "감으로 투자하는 게 아니라 철저하게 데이터에 기반해서 분석해주시는 게 인상적이었습니다. 공급 물량, 미분양 추이, 전세가율 등 다양한 지표를 근거로 설명해주시니 신뢰가 갔습니다. 덕분에 불안감 없이 투자 결정 내렸습니다.", author: "정민우님", date: "2025-11-20", rating: 4 }, // 별점 4점
            { title: "지방 투자도 역시 시브님", content: "서울/수도권만 잘 아시는 줄 알았는데 지방 흐름도 꽉 잡고 계시더라고요. 지방 갭투자처 찾고 있었는데 시브님이 추천해주신 곳 임장 가보고 바로 계약했습니다. 벌써 호가 오르고 있어서 기분 좋네요 ㅎㅎ", author: "강성민님", date: "2025-11-15", rating: 5 },
            { title: "조정지역 발표 다음날 동탄 매수 시크릿큐레이팅 후기", content: `안녕하세요 전 추석직전 큐레이팅 신청하고 추석연휴동안 갈아타기를 위해 열심히 임장을 다녔습니다.\n70일 아기를 데리고 임장을 하는 것이 정말 쉽지 않았는데요. 아기와 나중에 실거주와 투자하기 좋은 곳으로 살고싶다는 목표로 버틴것 같습니다.\n시부님께서는 큐레이팅기간 종료후에도 제가 계약종료를 마칠때까지 잘 이끌어주셨습니다.\n덕분에 저는 동탄을 갈아타기 해서 매수할 수 있었고 현재는 풍선효과로 가격이 제가 매수한 가격보다 많이 올랐습니다.`, author: "변미소님", date: "2025-11-12", rating: 5, badge: "BEST" },
            { title: "전세 만기 앞두고 큰 도움 되었습니다", content: "전세 만기가 다가와서 재계약을 할지 매수를 할지 고민이 많았는데, 시브님 상담 받고 매수하기로 결정했습니다. 제 자금 상황에서 최선의 선택지를 알려주셔서 든든했습니다. 내 집 마련의 꿈을 이룰 수 있게 도와주셔서 감사합니다.", author: "윤정아님", date: "2025-11-10", rating: 5 },
            { title: "혼자 끙끙 앓지 마세요", content: "부동산 고민 때문에 몇 달 동안 잠도 못 잤는데, 시브님과 상담하고 나서 체증이 내려간 기분입니다. 객관적인 시선으로 제 상황을 진단해주시고 현실적인 솔루션을 주셔서 너무 좋았습니다. 고민할 시간에 상담받는 게 돈 버는 길입니다.", author: "조승현님", date: "2025-11-05", rating: 5 },
            { title: "3년간 못했던 내집마련, 시브님 만나고 2주만에 성공!", content: `안녕하세요! 결혼을 준비하던 약 3년 전부터 부동산을 째려보던 제가 시브님을 만나고 약 2주만에 서울에 내집 마련을 했습니다! 성격이 좋게 말하면 꼼꼼하고 나쁘게 말하면 의사 결정을 잘 못내리는데, 좋은 시기에 시브님을 만나 빠르게 의사결정 내려서 드디어 매수에 성공했습니다 :)\n가장 추천 드리는 부분은 1) 예산에 맞는 최고의 단지를 추천해주시고 2) 움직일 수 있도록 이끌어주시는 부분이고, 저희 부부에게, 그리고 빠르게 매수가 필요했던 이번 시기에 너무 큰 도움을 받았습니다.`, author: "김아름님", date: "2025-11-04", rating: 5, badge: "BEST" },
            { title: "투자금이 적어도 가능하네요", content: "투자금이 적어서 아파트 투자는 꿈도 못 꿨는데, 시브님이 소액으로 가능한 곳들을 찾아주셔서 놀랐습니다. 아직 저평가된 곳들이 있다는 걸 알게 되어 희망이 생겼습니다. 열심히 공부해서 꼭 성공 투자하겠습니다.", author: "임수진님", date: "2025-10-30", rating: 5 },
            { title: "[시크릿브라더] 부동산 큐레이팅 후기", content: `안녕하세요, 10월 초 추석 연휴 전 큐레이팅을 신청 하였고, 실거주와 갭투자를 고민하는 상황이었습니다. \n결론을 먼저 말씀 드리자면 시크릿브라더님 큐레이팅 조언을 통해 실거주집을 매수하기로 계약을 한 상태입니다. \n결과부터 말씀드리자면 큐레이팅 내용에 대해 정말 대만족 입니다!`, author: "김기용님", date: "2025-10-27", rating: 5, badge: "BEST" },
            { title: "큐레이팅 후기", content: `안녕하세요 큐레이팅 후기를 남깁니다. 저는 추석 연휴가 끝나고 큐레이팅을 시작해서 한 주만에 살던 집을 매도하고 새집을 매수하게 되었습니다.\n처음에 큐레이팅을 신청할 때는 '정말로 이번 기회에 매도와 매수를 해야겠다' 이런 생각보다는 그간에 부동산에 대해서 제가 생각했던 시나리오를 누군가에게 검증 받아 보자라는 마음으로 시작했습니다.\n결과는 대만족이었습니다. 사실 이번에 매수까지 성공하지 못했더라도 굉장히 만족스러운 상담이었다고 생각합니다.`, author: "이민석님", date: "2025-10-27", rating: 5, badge: "BEST" },
            { title: "꼼꼼한 계약서 검토까지 감동입니다", content: "매물 선정부터 계약까지 전 과정을 세심하게 케어해주셔서 안심이 되었습니다. 특히 계약서 쓸 때 특약 사항까지 꼼꼼하게 챙겨주셔서 부동산 사장님도 놀라시더라고요. 시브님 덕분에 안전하게 계약 잘 마쳤습니다.", author: "오민석님", date: "2025-10-25", rating: 5 },
            { title: "인생 멘토를 만난 기분입니다", content: "단순히 부동산 상담을 넘어서 인생 선배로서 해주시는 조언들이 마음에 와닿았습니다. 부자가 되기 위한 마인드셋부터 다시 잡게 되었습니다. 시브님 같은 멘토가 있어서 든든합니다. 평생 함께하고 싶습니다.", author: "송지영님", date: "2025-10-15", rating: 5 },
            { title: "재개발 재건축도 잘 아시네요", content: "재개발 구역 투자를 고려 중이었는데, 사업성 분석부터 입주권 프리미엄 계산까지 완벽하게 해주셨습니다. 리스크는 줄이고 수익은 극대화할 수 있는 전략을 세워주셔서 큰 도움이 되었습니다.", author: "문철수님", date: "2025-10-01", rating: 5 },
            { title: "유튜브 보고 왔는데 후회 없습니다", content: "유튜브 영상만 보다가 큐레이팅 신청했는데, 역시 유료 강의는 다르네요. 영상에서는 다루지 못했던 깊이 있는 내용과 실전 꿀팁들을 아낌없이 방출해주십니다. 수강료가 전혀 아깝지 않습니다.", author: "양선우님", date: "2025-09-20", rating: 4 }, // 별점 4점

            // --- 2024년 ---
            { title: "24년 첫 투자 성공했습니다", content: "부동산 침체기라 망설였는데, 오히려 지금이 기회라고 말씀해주셔서 용기 냈습니다. 시브님이 찍어주신 지역들 임장 다니면서 확신을 얻었고, 급매 잡아서 벌써 안전마진 확보했습니다. 감사합니다!", author: "강민호님", date: "2024-12-15", rating: 5 },
            { title: "지방 소도시 투자의 정석", content: "수도권만 보다가 지방 소도시 투자는 처음이었는데, 지역 분석부터 매물 선정까지 완벽하게 가이드해주셨습니다. 지방도 기회가 있다는 걸 알게 해주셔서 감사합니다. 월세 세팅해서 현금흐름 만들었습니다.", author: "최수정님", date: "2024-11-20", rating: 5 },
            { title: "신혼집 마련 고민 해결!", content: "결혼 앞두고 신혼집 어디로 해야 할지 막막했는데, 저희 부부 예산과 출퇴근 고려해서 최적의 입지를 추천해주셨습니다. 덕분에 싸우지 않고 좋은 집 구했습니다. 신혼부부 강력 추천!", author: "박지훈님", date: "2024-10-05", rating: 5 },
            { title: "전화 상담보다 훨씬 좋네요", content: "전화 상담은 끝나면 기억이 잘 안 나는데, 카톡으로 7일 동안 기록이 남으니까 나중에 다시 보기도 좋고 질문도 편하게 할 수 있어서 너무 좋았습니다. 꼼꼼한 답변 감동입니다.", author: "이혜진님", date: "2024-09-12", rating: 5 },
            { title: "내 집 마련의 꿈을 이뤘습니다", content: "평생 전세만 살다가 처음으로 내 집 마련 도전했습니다. 두려움이 앞섰지만 시브님이 옆에서 멘탈 케어까지 해주셔서 끝까지 갈 수 있었습니다. 등기 치던 날 눈물이 핑 돌더라고요. 은인이십니다.", author: "정상훈님", date: "2024-08-25", rating: 5 },
            { title: "갈아타기 타이밍 완벽 적중", content: "기존 집 매도가 안 돼서 고생하고 있었는데, 가격 조정이랑 부동산 내놓는 팁 알려주셔서 극적으로 매도했습니다. 그리고 바로 상급지 급매 잡아서 갈아타기 성공! 타이밍의 마술사 인정합니다.", author: "김미영님", date: "2024-07-10", rating: 5 },
            { title: "부동산 투자의 눈을 떴습니다", content: "그동안 제가 했던 건 투자가 아니라 투기였네요. 시브님 강의 듣고 데이터 보는 법 배우면서 진짜 투자가 뭔지 알게 되었습니다. 이제 혼자서도 지역 분석할 수 있을 것 같아요.", author: "오재원님", date: "2024-06-01", rating: 4 }, // 별점 4점
            { title: "수강료 10배 뽑았습니다", content: "30만원 강의료가 전혀 아깝지 않습니다. 네고 팁 알려주신 대로 해서 매매가 500만원 깎았습니다. 강의료의 10배 넘게 벌었네요. 무조건 들으세요.", author: "서동현님", date: "2024-05-15", rating: 5 },
            { title: "재수강 의사 100%", content: "이번에 큐레이팅 받고 너무 만족해서 다음에는 정규 강의도 들어보려고 합니다. 시브님 인사이트는 진짜 독보적입니다. 앞으로도 계속 따라가겠습니다.", author: "윤지수님", date: "2024-04-20", rating: 5 },
            { title: "친구 추천으로 왔어요", content: "친구가 시브님 도움 받고 청약 당첨됐다고 해서 저도 왔습니다. 저는 청약 가점이 낮아서 갭투자로 방향 잡았는데, 제 상황에 딱 맞는 전략 짜주셔서 든든합니다.", author: "한민수님", date: "2024-03-08", rating: 5 },
            { title: "주말 임장 데이트", content: "남편이랑 주말마다 임장 다니는 게 취미가 됐습니다. 시브님이 알려주신 체크리스트 들고 다니면서 보니까 안 보이던 게 보이더라고요. 부부 사이도 좋아지고 돈도 벌고 일석이조입니다.", author: "장서윤님", date: "2024-02-14", rating: 5 },
            { title: "은퇴 준비 시작합니다", content: "은퇴 앞두고 노후 자금 걱정이 많았는데, 월세 나오는 수익형 부동산이랑 시세 차익형 부동산 포트폴리오 잘 짜주셔서 한시름 놓았습니다. 노후 준비는 시크릿클래스에서!", author: "배철수님", date: "2024-01-22", rating: 5 },

            // --- 2023년 (초창기) ---
            { title: "정규반 5기 신O영님 후기", content: `저는 경북의 작은 중소도시에 사는 50대 주부입니다. 9년전쯤 제가 살고 있는 도시에 택지조성이 되면서 그때 부동산 투자를 해서 현재 상가건물 2채를 소유하고 있고 현금흐름은 매달 500정도 됩니다. 상가에서 일정 수입을 창출하면서 한동안 부동산에 관심을 가지고 있지않았었어요... 남편도 공직에서 안정된 생활을 하고 있고... 언제부턴가 은행이율이 바닥인데 은행에 저금을 해봐야 아무 의미 없다는 것을 깨닫고 작년하반기 부터 아파트 투자에 관심을 가지게 되었습니다.\n시브님 강의를 듣기전에 유명한 분의 강의를 들은적이 있습니다. 내용이 어쩜 비슷하다고 할수 있겠지만 제가 그 강의에 실망감을 가졌던데... 21년도 말에 20년에 촬영한 강의를 올려놨더라구요... 물론 바뀐부분에 몇강은 부분 재촬영을했다고 하지만 일단 성의가 너무 없어보였습니다.\n반면 시브님 강의를 들으면서 제가 느낀 감정을 정리하면 - 시브님 강의는 늘 따끈 따끈 합니다. - 시브님 강의는 늘 열정이 넘칩니다. - 시브님 강의는 초보자가 듣기에 너무 너무 좋습니다.`, author: "신O영님", date: "2023-03-17", rating: 5 },
            { title: "정규반 5기 손O정님 후기", content: `나도 부동산 지역분석 할 수 있다,,,! 저는 2021년 초부터 부동산 관련 유투브도 열심히 보고, 부동산 도서, 카페글도 자주 읽으면서 부동산 투자 공부를 시작했지만, 실질적으로 어떤 지역을 투자지역으로 선정하고 또 어떤 단지를 선별하는 건지 전혀 감을 잡지 못하고 오히려 마음만 급해졌습니다.\n그러다가 시크릿브라더님 책을 읽게 되었고 필터링이라는 신세계를 아주 살짝 맛보면서 차근 차근 따라해보던 찰나 좀 더 자세한 설명과 이해를 위해 강의를 수강하게 되었습니다.`, author: "손O정님", date: "2023-03-17", rating: 5 },
            { title: "정규반 5기 김O선님 후기", content: `저는 유트브 김작가TV로 시브님을 처음 접했습니다. 정신없이 아이들을 키우고 보니 50이 넘어 있는 제가,지금이라도 늦지 않았다고 다독이며 여러 부동산관련 유투브를 전전하던중 가뭄의 단비같이 시브님을 만났지요^^ 이과성향인 저는 두리뭉실이 아닌 수치로,비교평가로 딱딱 떨어지는 7차 필터링이 정말 매력적일 수 밖에 없었습니다.`, author: "김O선님", date: "2023-03-17", rating: 5 },
            { title: "정규반 2기 미래소년k님 후기", content: `시크릿 브라더님은 우연히 블로그를 통해서 알게 되었습니다. 강의를 듣고 들었던 생각은 '안개 낀 산 속에서 나무를 찾게 됐다!' 기존 강의나 책에서 투자할 도시와 지역을 찾는 방법에 대해서는 언급을 많이 하고 방법에 대해서도 알려주고 있습니다. 하지만 투자할 단지에 대한 구체적 접근은 알기 어려웠습니다.`, author: "미래소년k님", date: "2023-03-17", rating: 5 },
            { title: "정규반 2기 민경인님 후기", content: `19년에 얼결에 청약이 당첨되면서 부랴부랴 가입하게 된 부동산 카페! 2년동안 내 집 정보 알아보느라 들락날락 하다 부동산이라는 세로운 세계를 알게 되었다. 시브님 글들을 보면서 저 분은 어떻게 저런생각을 하고, 저런 단지들을 비교하게 되는거지?라고 계속 궁금했는데 그 하나하나의 생각들을 그 생각의 순서를 그대로 보여주는 강의이다.`, author: "민경인님", date: "2023-03-17", rating: 5 },
            { title: "정규반 1기 루저가이님 후기", content: `안녕하세요. 시크릿브라더님 3주차까지 강의 후기입니다. 제 이야기를 아주 짧게 하자면, 저는 2014년 첫 집을 구매하고 (무지성 구매) 7년 동안은 대출 이자 갚고 그냥 아무생각 없이 미래만 불안해하면서 보냈습니다. 그러던 중에 아주 우연히 스크릿브라더님을 알게 되었고, 커리큘럼을 보니깐 아주 새로운 것을 가르쳐준다기 보다는 부동산에서 알아야 되는 아주 기초적인 것부터 차근차근 알려준다는 생각이 들었습니다.`, author: "루저가이님", date: "2023-03-17", rating: 5 },
            { title: "정규반 1기 부자엄마님 후기", content: "안녕하세요~ 저는 시크릿브라더 강의 1기 수강생 입니다. 부동산 투자에 아주 막연한 관심만 가지고 있다가 다른 투자들 하기 시작하면서 결국 기본이 되는 투자는 부동산이라는 생각에 부동산으로 영역을 확장(?)한 부생아 입니다. 장점은 뭐니뭐니해도 시간과 돈이 아깝지 않은 강의! 평생 써먹을 수 있는 강의! 실전형 강의! 시간을 절약해준 강의!", author: "부자엄마님", date: "2023-03-17", rating: 4 }, // 별점 4점
            { title: "정규반 1기 꼬밍맘87님 후기", content: "부동산카페에서 열심히 읽었던 시브님의 강의를 직접 들을 수 있었어서 너무 좋았어요. 안그래도 글 읽으면서 강의는 없으실까 생각도 하고 진짜 다른 부동산 강의는 들어보려고 하니 400ㅡ500 만원대고 아직 제겐 너무 비싼 수강료라 부담 많이 됐었거든요. 근데 이렇게 적은 수강료로 알찬 강의 준비 해주셔서 너무 감사 했습니다.", author: "꼬밍맘87님", date: "2023-03-17", rating: 5 },
            { title: "정규반 2기 hyun님 후기", content: "부동산 공부를 시작한지 2년정도가 되어가는 50대의 직장인 입니다. 은퇴를 준비해야 할 시간이 많이 남지 않은 현실을 마주하고 보니 일찍 재테크에 눈을 떠 열정적으로 공부하고 투자도 하는 젊은 세대들은 보면 참 부러운일 중에 하나 입니다. 시브님의 1~7차 필터링이라는 방식이 제게는 일회성으로 그치지 않고 두고 두고 써먹을 수 있는 훌륭한 투자기법임에 의심이 없습니다.", author: "hyun님", date: "2023-03-17", rating: 5 },
            { title: "정규반 3기 김O아님 후기", content: "대학 졸업 후 직장생활을 하기 위해 수도권으로 거주지를 옮긴 후 줄곧 세입자 생활을 하면서 왜 이 많은 집 가운데 내 집은 없을까라는 생각을 했었던 것 같다. 그렇게 시크릿브라더님이 예전부터 올려주셨던 게시글을 다 찾아읽고 추천해주신 책들을 사서 읽고, 언급해주신 다른 전문가들의 글들을 찾아읽어도 근데 이걸 도대체 어떤 방법으로 해야될까, 진짜 막막하다 라는 생각이 들때쯤 맛보기반 강의를 신청하게 됐고, 결국 정규반 수업까지 듣게 되었다.", author: "김O아님", date: "2023-03-17", rating: 5 },
            { title: "정규반 3기 김O호님 후기", content: "먼저 4주 동안 바쁘실텐데도 시간을 내셔서 강의를 해주신 시브님께 정말 감사드립니다. 3주차가 되면서 뭔가 알아가는것이, 무엇을 봐야겠구나 하는 점을 알게 되었습니다. 직접 물건을 찾아보며 분석해보는 것을 여러번 반복한 것에 대한 아 이제 내가 무엇을 보고 무엇에 집중해야하고 아 이래서 투자해도 좋겠구나 깨달음을 얻었습니다.", author: "김O호님", date: "2023-03-17", rating: 5 },
            { title: "정규반 3기 조O원 후기", content: "강의료를 지불하고 배운 것이긴 하지만, 부린이인 나한테 누가 이런 지식을 이리도 상세히 친절하게 알려줄까... 돈을 내면서도 너무 감사한 강의였다. 내가 공부에 들여야할 노력과 시간을 대폭 줄여주신, 충분한 가치가 있는 시간이었다. 과제가 가장 중요한데, 2주차 강의를 올리시자마자 과제를 내주신다.", author: "조O원님", date: "2023-03-17", rating: 5 },
            { title: "정규반 4기 홍O호님 후기", content: "4주차 마지막 강의를 듣다가 생각나서 후기 먼저 올립니다. 음...우연적 기회인가? 나름 고민하고 찾아헤매다 만난 귀인인가? 4주 강의를 듣는 내내 반복되었던 생각입니다. 우여곡절 끝에 다시 아파트로 돌아오기로, 당분간은 아파트만 하기로 맘을 먹고, 책+유투브를 미친듯이 봤습니다. 시브님 강의는 '저렴하면서도 가성비 갑인 명품 강의'였습니다.", author: "홍O호님", date: "2023-03-17", rating: 5 },
            { title: "정규반 4기 김O건님 후기", content: "안녕하세요. 4기 수강후기입니다. 네이버카페 '부동산스터디'에서 시크릿브라더님 글을 자주 접하게 되었고, 이를 계기로 관심을 갖게 되었습니다ㅎㅎ 책도 샀고요. 더 세부적으로 공부하고 싶어져 강의를 신청하였습니다. 장점은 뭐니뭐니해도 1) 수강 기한의 압박과 2) 과제 제출 및 피드백입니다.", author: "김O건님", date: "2023-03-17", rating: 5 },
            { title: "정규반 4기 한O경님 후기", content: "저의 소중했던 꿈이 카드 값을 갚는 수단이 되는 순간, 철부지 기혼녀에서 100일 아가의 엄마가된 순간 더 이상은 다음 달 월급을 저당 잡아 이번 달을 풍족하게 사는 못난 모습으로 살고 싶지 않았고 제 삶의 가치와 가족을 위해 경제적 자유를 실현해야겠다고 마음먹었습니다. 그러던 중 우연히 신사임당 유튜브에서 스마일 얼굴로 나온 시브님을 보게 됐고, 7차 필터링이 제가 찾던 답이라는 것을 알게 됐습니다.", author: "한O경님", date: "2023-03-17", rating: 5 }
        ];

        // 날짜순 정렬 (최신순)
        allReviews.sort((a, b) => new Date(b.date) - new Date(a.date));

        // 조회수 배정 (100~500)
        allReviews.forEach(r => r.views = calculateViews(100, 500));

        let visibleCount = 12;
        const container = document.getElementById('all-reviews-container');
        document.getElementById('review-count').innerText = allReviews.length;

        function renderAllReviews() {
            container.innerHTML = '';
            const toShow = allReviews.slice(0, visibleCount);
            
            toShow.forEach((review, index) => {
                const card = document.createElement('div');
                card.className = "bg-white p-6 rounded-2xl shadow-sm border border-gray-100 review-card flex flex-col justify-between";
                card.onclick = () => openDetail(index);
                
                let badge = "";
                if(review.badge === "BEST" || review.type === "BEST") badge = `<span class="text-red-500 font-bold text-xs bg-red-50 px-2 py-1 rounded">BEST</span>`;
                else if(review.date.startsWith("2025")) badge = `<span class="text-indigo-500 font-bold text-xs bg-indigo-50 px-2 py-1 rounded">NEW</span>`;
                else badge = `<span class="text-gray-400 font-bold text-xs bg-gray-100 px-2 py-1 rounded">REVIEW</span>`;
                
                // 별점 생성
                let stars = "";
                for(let i=1; i<=5; i++) {
                    if(i <= review.rating) stars += `<i data-lucide="star" class="w-3 h-3 fill-current text-yellow-400"></i>`;
                    else stars += `<i data-lucide="star" class="w-3 h-3 text-gray-300"></i>`;
                }

                card.innerHTML = `
                    <div>
                        <div class="flex justify-between mb-2">${badge}<span class="text-xs text-gray-400">${review.date}</span></div>
                        <h3 class="font-bold text-lg mb-2 truncate text-gray-900">${review.title}</h3>
                        <div class="text-gray-600 text-sm line-clamp-3 raw-content">${review.content}</div>
                    </div>
                    <div class="mt-4 pt-4 border-t text-sm font-bold text-gray-700 flex justify-between">
                        <span>${review.author}</span>
                        <div class="flex gap-1">${stars}</div>
                    </div>
                    <div class="mt-1 text-right text-xs text-gray-400 flex justify-end items-center gap-1"><i data-lucide="eye" class="w-3 h-3"></i> ${review.views}</div>
                `;
                container.appendChild(card);
            });

            if(visibleCount >= allReviews.length) {
                document.getElementById('load-more-btn').style.display = 'none';
            }
            lucide.createIcons();
        }

        function loadMore() {
            visibleCount += 12;
            renderAllReviews();
        }

        function openDetail(renderIndex) {
            const review = allReviews[renderIndex];
            document.getElementById('modal-title').innerText = review.title;
            // 줄바꿈이 있는 원본 텍스트는 <br>로 치환하거나, CSS white-space:pre-wrap으로 처리
            document.getElementById('modal-content').innerHTML = review.content.replace(/\n/g, '<br>'); 
            document.getElementById('modal-author').innerText = review.author;
            document.getElementById('modal-date').innerText = review.date;
            document.getElementById('modal-views').innerText = review.views;
            
            // 모달 별점 생성
            let stars = "";
            for(let i=1; i<=5; i++) {
                if(i <= review.rating) stars += `<i data-lucide="star" class="w-4 h-4 fill-current text-yellow-400"></i>`;
                else stars += `<i data-lucide="star" class="w-4 h-4 text-gray-300"></i>`;
            }
            document.getElementById('modal-stars').innerHTML = stars;

            const badge = document.getElementById('modal-badge');
            if(review.badge === 'BEST' || review.type === 'BEST') {
                badge.className = "bg-red-100 text-red-600 text-xs font-bold px-2 py-0.5 rounded";
                badge.innerText = "BEST";
                badge.classList.remove('hidden');
            } else {
                badge.classList.add('hidden');
            }
            toggleModal('reviewDetailModal');
        }

        // [작성 권한 체크 - 결제 여부 확인]
        function openWriteReview() {
            const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
            if(!isLoggedIn) {
                alert("로그인이 필요한 서비스입니다.\n메인 페이지에서 로그인 후 이용해주세요.");
                return;
            }
            
            // 결제 상태 확인
            const paymentStatus = localStorage.getItem('paymentStatus');
            if (paymentStatus !== 'paid') {
                alert("수강 신청(결제)을 완료한 회원만 후기를 작성할 수 있습니다.\n(입금 확인 중인 경우 완료 후 작성 가능합니다)");
                return;
            }

            toggleModal('writeReviewModal');
        }

        function submitReview() {
            const title = document.getElementById('review-input-title').value;
            const content = document.getElementById('review-input-content').value;
            const author = localStorage.getItem('userName') || '익명';
            
            if(!title || !content) return alert("내용을 입력해주세요");

            const newRev = {
                title: title,
                content: content,
                author: author + "님",
                date: new Date().toISOString().split('T')[0],
                type: "NORMAL",
                rating: 5, // 기본값
                views: calculateViews(100, 500)
            };
            allReviews.unshift(newRev); // 맨 앞에 추가
            renderAllReviews();
            toggleModal('writeReviewModal');
            alert("후기가 등록되었습니다!");
            
            // 폼 초기화
            document.getElementById('review-input-title').value = '';
            document.getElementById('review-input-content').value = '';
        }

        renderAllReviews();
    </script>
</body>
</html>